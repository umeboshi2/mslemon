// Generated by CoffeeScript 1.6.3
(function() {
  var loading_events, make_calendar;

  loading_events = function(bool) {
    if (bool) {
      $('#loading').show();
      return $('.fc-header').hide();
    } else {
      $('#loading').hide();
      return $('.fc-header').show();
    }
  };

  make_calendar = function(element, url, defaultview, firsthour) {
    element.fullCalendar('destroy');
    return element.fullCalendar({
      header: {
        left: 'month, agendaWeek, agendaDay',
        center: 'title'
      },
      theme: true,
      eventSources: [
        {
          url: url,
          color: '#8B8878'
        }
      ],
      editable: false,
      selectable: false,
      allDayDefault: false,
      eventColor: '#8B8878',
      defaultView: defaultview,
      loading: loading_events,
      firstHour: firsthour
    });
  };

  $(document).ready(function() {
    var rnow, thour;
    $('#loading').hide();
    rnow = new Date();
    thour = rnow.getHours() - 2;
    $('#scandoc-list').hide();
    $('#scandoc-calendar').fullCalendar({
      header: {
        left: 'month, agendaWeek, agendaDay',
        center: 'title'
      },
      theme: true,
      eventSources: [
        {
          url: '/msl/scandocsjson/foo/bar',
          color: '#8B8878'
        }
      ],
      editable: false,
      selectable: false,
      allDayDefault: false,
      eventColor: '#8B8878',
      defaultView: 'agendaWeek',
      firstHour: thour
    });
    return $('#list-button').click(function() {
      var button, text;
      button = $('#list-button');
      $('#scandoc-calendar').toggle();
      $('#scandoc-list').toggle();
      text = button.text();
      button.text('sdfsdfsdf');
      if (text === 'List') {
        button.text('Calendar');
      }
      if (text === 'Calendar') {
        return button.text('List');
      }
    });
  });

}).call(this);
