(function(){$(document).ready(function(){var e,b,d,f,n,k,h,j,i,g,c,m,l,o,a;c=teacup.renderable;b=teacup.div;h=teacup.i;l=teacup.strong;m=teacup.span;i=teacup.label;j=teacup.input;o=teacup.text;d=$(".editing-space");n=$(".field-list");a=$("input[name=webview_id]").val();g=function(r,q){var p;p="/rest/admin/layoutmodels/"+r;p=p+"/fields/"+q;return p};k=c(function(p){return b(".btn.btn-default.btn-xs",function(){return o(p)})});f=c(function(){b("#edit-status.listview-header",function(){o("Editing template");b("#save-content.action-button",function(){return o("Save")});return b("#cancel-button.action-button.pull-right",function(){return o("Cancel")})});return b("#editor")});e=function(q){var y,v,u,z,t,r,x,s,w,p;t=f;d.html(t);d.show();x=$("#save-content");x.hide();y=$("#cancel-button");y.click(function(){return window.location.reload()});u=ace.edit("editor");TrumpetApp.editor=u;w=u.getSession();w.on("change",function(){return x.show()});w.setMode("ace/mode/coffee");w.setTabSize(4);u.setTheme("ace/theme/twilight");p="/rest/admin/webviews/"+q;v=function(B,A,C){if(A==="success"){window.rdata=B;if(B.template!==null){return u.setValue(B.template)}}};r=$.get(p,{},v);z=function(B,A,C){if(A==="success"){x.hide()}TrumpetApp.rdata=B;TrumpetApp.rstatus=A;return TrumpetApp.rxhr=C};s=function(B,A,C){TrumpetApp.rdata=B;TrumpetApp.rstatus=A;TrumpetApp.rxhr=C;return TrumpetApp.make_alert("Error in save")};return x.click(function(){var A;A={update:"submit",template:u.getValue()};p="/rest/admin/webviews/"+q;return $.ajax(p,{type:"PUT",data:A,success:z,error:s,dataType:"json"})})};return e(a)})}).call(this);