// Generated by CoffeeScript 1.6.1
(function() {
  var make_calendar, make_calendar_orig;

  make_calendar = function(element, url, defaultview, firsthour) {
    element.fullCalendar('destroy');
    return element.fullCalendar({
      header: {
        left: 'month, agendaWeek, agendaDay',
        center: 'title'
      },
      theme: true,
      eventSources: [
        {
          url: url,
          color: '#8B8878'
        }
      ],
      editable: false,
      selectable: false,
      allDayDefault: false,
      eventColor: '#8B8878',
      defaultView: defaultview,
      firstHour: firsthour
    });
  };

  make_calendar_orig = function(element) {
    var defaultView_, eventSource_, rnow, thour;
    eventSource_ = $('#eventSource').val();
    defaultView_ = $('#defaultView').val();
    rnow = new Date();
    return thour = rnow.getHours() - 2;
  };

  $(document).ready(function() {
    var rnow, thour;
    rnow = new Date();
    thour = rnow.getHours() - 2;
    $('#phonecall-list').hide();
    $('#phone-calendar').fullCalendar({
      header: {
        left: 'month, agendaWeek, agendaDay',
        center: 'title'
      },
      theme: true,
      eventSources: [
        {
          url: $('#receivedUrl').val(),
          color: '#8B8878'
        }
      ],
      editable: false,
      selectable: false,
      allDayDefault: false,
      eventColor: '#8B8878',
      defaultView: 'agendaDay',
      firstHour: thour
    });
    $('#received-button').click(function() {
      var _element, _hr, _now, _url;
      _now = new Date();
      _hr = _now.getHours() - 2;
      _url = $('#receivedUrl').val();
      _element = $('#phone-calendar');
      return make_calendar(_element, _url, 'agendaDay', _hr);
    });
    $('#assigned-button').click(function() {
      var _element, _hr, _now, _url;
      _now = new Date();
      _hr = _now.getHours() - 2;
      _url = $('#assignedUrl').val();
      _element = $('#phone-calendar');
      return make_calendar(_element, _url, 'agendaWeek', _hr);
    });
    $('#delegated-button').click(function() {
      var _element, _hr, _now, _url;
      _now = new Date();
      _hr = _now.getHours() - 2;
      _url = $('#delegatedUrl').val();
      _element = $('#phone-calendar');
      return make_calendar(_element, _url, 'agendaWeek', _hr);
    });
    $('#unread-button').click(function() {
      var _element, _hr, _now, _url;
      _now = new Date();
      _hr = _now.getHours() - 2;
      _url = $('#unreadUrl').val();
      _element = $('#phone-calendar');
      return make_calendar(_element, _url, 'agendaWeek', _hr);
    });
    $('#pending-button').click(function() {
      var _element, _hr, _now, _url;
      _now = new Date();
      _hr = _now.getHours() - 2;
      _url = $('#pendingUrl').val();
      _element = $('#phone-calendar');
      return make_calendar(_element, _url, 'agendaWeek', _hr);
    });
    $('#closed-button').click(function() {
      var _element, _hr, _now, _url;
      _now = new Date();
      _hr = _now.getHours() - 2;
      _url = $('#closedUrl').val();
      _element = $('#phone-calendar');
      return make_calendar(_element, _url, 'month', _hr);
    });
    return $('#list-button').click(function() {
      var button, text;
      button = $('#list-button');
      $('#phone-calendar').toggle();
      $('#phonecall-list').toggle();
      text = button.text();
      button.text('sdfsdfsdf');
      if (text === 'List') {
        button.text('Calendar');
      }
      if (text === 'Calendar') {
        return button.text('List');
      }
    });
  });

}).call(this);
