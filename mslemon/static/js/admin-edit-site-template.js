// Generated by CoffeeScript 1.6.3
(function() {
  $(document).ready(function() {
    var editor, fresh_edit;
    $('#save-content').hide();
    fresh_edit = function(data, status, xhr) {
      $('#save-content').hide();
      return make_alert(status, status);
    };
    editor = ace.edit('editor');
    editor.getSession().on('change', function() {
      return $('#save-content').show();
    });
    editor.getSession().setMode('ace/mode/ejs');
    editor.setTheme('ace/theme/twilight');
    return $('#save-content').click(function() {
      var formdata;
      formdata = {
        update: 'submit',
        content: editor.getValue()
      };
      return $.post(window.location, formdata, fresh_edit);
    });
  });

}).call(this);
