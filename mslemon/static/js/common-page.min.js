(function(){var h,c,e,b,a,d,f,i,g;window.TrumpetApp={functions:{},main_loop:null};g=function(){var k,j;k=function(l){l=l.replace(/[\/]+/g,"/");l=l.replace(/\:\//g,"://");l=l.replace(/\/\?/g,"?");l=l.replace(/\/\#/g,"#");return l};j=[].slice.call(arguments,0).join("/");return k(j)};h=function(j){var k;k={ace:g(j,"ace.js"),emacs:g(j,"keybinding-emacs.js"),modes:{coffee:g(j,"mode-coffee.js"),css:g(j,"mode-css.js"),html:g(j,"mode-html.js"),scss:g(j,"mode-scss.js")},workers:{coffee:g(j,"worker-coffee.js"),css:g(j,"worker-css.js"),javascript:g(j,"worker-javascript.js")}};return k};f=function(k){var j;j=teacup.renderable(function(){return teacup.script({type:"text/javascript",src:k})});return j()};e=function(n){var k,l,j,m;l="/fanstatic/js.ace";m="/fanstatic/libs/ace-theme-trumpet.js";j=h(l);k=$("head");k.append(f(j.ace));k.append(f(j.emacs));k.append(f(j.workers[n]));k.append(f(j.modes[n]));return k.append(f(m))};b=function(){var k,l,j,m;m="/fanstatic/js.fullcalendar";j=g(m,"fullcalendar.js");k=g(m,"gcal.js");l=$("head");l.prepend(f(j));return l.prepend(f(k))};d=function(l,k){var j,m;j='<div id="main-alert" class="alert alert-#priority# alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>$__replaceme__</div>';m=j.replace("$__replaceme__",l);m=m.replace("#priority#",k);return m};a=function(k,j){var l;l=d(k,j);return $(".main-content").prepend(l)};c=function(k){var m,l,j;l="/blob/ejs/search";m=jQuery.param({name:k});j=l+"?"+m;return new EJS({url:j})};i=function(j,k){return j.click(function(){var l;l=j.text();if(l==="emacs"){j.text("ace");return k.setKeyboardHandler("")}else{j.text("emacs");return k.setKeyboardHandler("ace/keyboard/emacs")}})};TrumpetApp.make_alert_div=d;TrumpetApp.make_alert=a;TrumpetApp.get_template=c;TrumpetApp.functions.url_join=g;TrumpetApp.functions.toggle_ace_keybinding=i;TrumpetApp.functions.load_ace_editor_resources=e;TrumpetApp.functions.load_fullcalendar_resources=b;$(document).ready(function(){return $(".status-bar").hide()})}).call(this);