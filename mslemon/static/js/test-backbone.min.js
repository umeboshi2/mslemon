(function(){var b={}.hasOwnProperty,c=function(g,e){for(var d in e){if(b.call(e,d)){g[d]=e[d]}}function f(){this.constructor=g}f.prototype=e.prototype;g.prototype=new f();g.__super__=e.prototype;return g},a=function(d,e){return function(){return d.apply(e,arguments)}};jQuery(function(){var d,k,j,l,g,i,h,f,e;d=(function(n){c(m,n);function m(){i=m.__super__.constructor.apply(this,arguments);return i}m.prototype.defaults={type:"tutwiki",name:"",content:""};return m})(Backbone.Model);k=(function(n){c(m,n);function m(){h=m.__super__.constructor.apply(this,arguments);return h}m.prototype.model=d;m.prototype.url="/rest/sitetext";return m})(Backbone.Collection);l=(function(m){c(n,m);function n(){this.unrender=a(this.unrender,this);this.render=a(this.render,this);f=n.__super__.constructor.apply(this,arguments);return f}n.prototype.tagName="div";n.prototype.className="sitetext-entry";n.prototype.initialize=function(){_.bindAll(this,"render","unrender","remove");this.model.bind("change",this.render);return this.model.bind("remove",this.unrender)};n.prototype.render=function(){$(this.el).html("<div>Name: "+(this.model.get("name"))+"</div>\n<div>Content: "+(this.model.get("content"))+'</div>\n<span class="action-button delete">delete</span>');return this};n.prototype.unrender=function(){return $(this.el).remove()};n.prototype.remove=function(){return this.model.destroy()};n.prototype.events={"click .delete":"remove"};return n})(Backbone.View);j=(function(n){c(m,n);function m(){e=m.__super__.constructor.apply(this,arguments);return e}m.prototype.el=$(".something");m.prototype.initialize=function(){this.collection=new k;this.collection.bind("add",this.appendItem);this.counter=0;return this.render()};m.prototype.render=function(){$(this.el).append('<div class="action-button fetch-site-text-button">Fetch Site Text</div>');$(this.el).append('<div class="action-button new-site-text-button">New Site Text</div>');return $(this.el).append('<div class="site-text-list"></div>')};m.prototype.addItem=function(){var o;this.counter++;o=new d;return this.collection.add(o)};m.prototype.appendItem=function(p){var o;o=new l({model:p});return $(".site-text-list").append(o.render().el)};m.prototype.fetchItems=function(){var o,p;$(".header").text("foobar");p=this.collection.get(1);o=new d(p);o.set(p);this.appendItem(o);return $(".footer").text(_.keys(o.attributes))};m.prototype.events={"click .new-site-text-button":"addItem","click .fetch-site-text-button":"fetchItems"};return m})(Backbone.View);Backbone.sync=function(p,n,o,m){return $(".header").text(p)};return g=new j})}).call(this);