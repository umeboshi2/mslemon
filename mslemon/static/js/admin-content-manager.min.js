(function(){var b={}.hasOwnProperty,c=function(g,e){for(var d in e){if(b.call(e,d)){g[d]=e[d]}}function f(){this.constructor=g}f.prototype=e.prototype;g.prototype=new f();g.__super__=e.prototype;return g},a=function(d,e){return function(){return d.apply(e,arguments)}};jQuery(function(){var x,S,s,B,t,R,C,y,d,f,h,E,A,J,e,v,p,r,F,P,D,u,z,w,G,q,U,T,Q,O,N,M,L,K,I,H,o,n,m,l,k,j,i,g;D=TrumpetApp.admin_mgr_tmpl;z=function(W,V){return make_alert("Succesful Transfer","success")};u=function(W,V){return make_alert("Error in Transfer","error")};w=function(){return{sitepath:e,sitetmpl:F,sitecss:C,sitejs:h}};window.lviews=w;s=(function(W){c(V,W);function V(){G=V.__super__.constructor.apply(this,arguments);return G}V.prototype.routes={"":"home","view/:listview":"listview"};V.prototype.common=function(){side_view.render();if(side_view.current_view!==null){return side_view.current_view.remove()}};V.prototype.home=function(){return this.common()};V.prototype.listview=function(Y){var X,Z;this.common();X=w()[Y];Z=new X;Z.render();return side_view.current_view=Z};return V})(Backbone.Router);A=(function(W){c(V,W);function V(){q=V.__super__.constructor.apply(this,arguments);return q}V.prototype.defaults={name:""};return V})(Backbone.Model);p=(function(V){c(W,V);function W(){o=W.__super__.constructor.apply(this,arguments);return o}W.prototype.defaults={name:"",content:""};return W})(Backbone.Model);t=(function(V){c(W,V);function W(){n=W.__super__.constructor.apply(this,arguments);return n}W.prototype.defaults={name:"",content:""};return W})(Backbone.Model);d=(function(W){c(V,W);function V(){m=V.__super__.constructor.apply(this,arguments);return m}V.prototype.defaults={name:"",content:""};return V})(Backbone.Model);J=(function(W){c(V,W);function V(){l=V.__super__.constructor.apply(this,arguments);return l}V.prototype.model=A;V.prototype.url="/rest/sitepath";V.prototype.parse=function(X){return X.data};return V})(Backbone.Collection);r=(function(V){c(W,V);function W(){k=W.__super__.constructor.apply(this,arguments);return k}W.prototype.model=p;W.prototype.url="/rest/sitetmpl";W.prototype.parse=function(X){return X.data};return W})(Backbone.Collection);R=(function(V){c(W,V);function W(){j=W.__super__.constructor.apply(this,arguments);return j}W.prototype.model=t;W.prototype.url="/rest/sitecss";W.prototype.parse=function(X){return X.data};return W})(Backbone.Collection);f=(function(W){c(V,W);function V(){i=V.__super__.constructor.apply(this,arguments);return i}V.prototype.model=d;V.prototype.url="/rest/sitejs";V.prototype.parse=function(X){return X.data};return V})(Backbone.Collection);S=(function(V){c(W,V);function W(){g=W.__super__.constructor.apply(this,arguments);return g}W.prototype.tagName="div";W.prototype.initialize=function(){_.bindAll(this,"render");this.model.bind("change",this.render);return this.model.bind("remove",this.unrender)};W.prototype.render=function(){var X;X=this.template.render(this.model.attributes);this.$el.html(X);return this};W.prototype.unrender=function(){return $(this.el).remove()};return W})(Backbone.View);v=(function(V){c(W,V);function W(){U=W.__super__.constructor.apply(this,arguments);return U}W.prototype.template=D.sitepath_entry_template;return W})(S);P=(function(W){c(V,W);function V(){T=V.__super__.constructor.apply(this,arguments);return T}V.prototype.template=D.sitetmpl_entry_template;return V})(S);y=(function(W){c(V,W);function V(){Q=V.__super__.constructor.apply(this,arguments);return Q}V.prototype.template=D.sitecss_entry_template;return V})(S);E=(function(W){c(V,W);function V(){O=V.__super__.constructor.apply(this,arguments);return O}V.prototype.template=D.sitejs_entry_template;return V})(S);x=(function(W){c(V,W);function V(){this.appendItem=a(this.appendItem,this);N=V.__super__.constructor.apply(this,arguments);return N}V.prototype.el=$(".right-column-content");V.prototype.render=function(X){this.$el.html(this.template.render(X));return this};V.prototype.remove=function(){this.undelegateEvents();this.$el.empty();this.stopListening();return this};V.prototype.addItem=function(){var X;X=new this.entryModelClass;return this.collection.add(X)};V.prototype.appendItem=function(Y){var Z,X;X=new this.entryViewClass({model:Y});Z=X.render(Y).el;return $(".listview-list").append(Z)};return V})(Backbone.View);e=(function(W){c(V,W);function V(){this.fetch=a(this.fetch,this);M=V.__super__.constructor.apply(this,arguments);return M}V.prototype.template=D.sitepath_view_template;V.prototype.entryViewClass=v;V.prototype.entryModelClass=A;V.prototype.initialize=function(){console.log("Init SitePathListView");this.collection=new J;this.collection.bind("add",this.appendItem);return this.collection.fetch()};V.prototype.fetch=function(){return this.collection.fetch()};return V})(x);F=(function(W){c(V,W);function V(){L=V.__super__.constructor.apply(this,arguments);return L}V.prototype.template=D.sitetmpl_view_template;V.prototype.entryViewClass=P;V.prototype.entryModelClass=p;V.prototype.initialize=function(){console.log("Init SiteTemplateListView");this.collection=new r;this.collection.bind("add",this.appendItem);return this.collection.fetch()};return V})(x);C=(function(W){c(V,W);function V(){K=V.__super__.constructor.apply(this,arguments);return K}V.prototype.template=D.sitecss_view_template;V.prototype.initialize=function(){return console.log("Init SiteCSSListView")};return V})(x);h=(function(W){c(V,W);function V(){I=V.__super__.constructor.apply(this,arguments);return I}V.prototype.template=D.sitejs_view_template;V.prototype.initialize=function(){return console.log("Init SiteJSListView")};return V})(x);B=(function(W){var X;c(V,W);function V(){H=V.__super__.constructor.apply(this,arguments);return H}V.prototype.el=$(".sidebar");V.prototype.initialize=function(){console.log("Init SideView");return this.current_view=null};V.prototype.template=D.side_view_template;V.prototype.render=function(){$(this.el).html(this.template.render());return this};V.prototype.setup_sitepath_viewer=function(){return this.pathview.render()};V.prototype.setup_sitetmpl_viewer=function(){return this.tmplview.render()};V.prototype.setup_sitecss_viewer=function(){return this.cssview.render()};V.prototype.setup_sitejs_viewer=function(){return this.jsview.render()};X={trigger:true};V.prototype.events={"click .home-button":function(){return main_router.navigate("",X)},"click .sitepaths-button":function(){return main_router.navigate("view/sitepath",X)},"click .sitetmpl-button":function(){return main_router.navigate("view/sitetmpl",X)},"click .sitecss-button":function(){return main_router.navigate("view/sitecss",X)},"click .sitejs-button":function(){return main_router.navigate("view/sitejs",X)}};return V})(Backbone.View);window.main_router=new s;window.side_view=new B;return Backbone.history.start()})}).call(this);