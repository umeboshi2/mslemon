(function(){var b={}.hasOwnProperty,c=function(g,e){for(var d in e){if(b.call(e,d)){g[d]=e[d]}}function f(){this.constructor=g}f.prototype=e.prototype;g.prototype=new f();g.__super__=e.prototype;return g},a=function(d,e){return function(){return d.apply(e,arguments)}};jQuery(function(){var x,M,s,A,t,L,B,d,f,h,z,F,e,v,o,r,D,C,u,y,w,E,q,O,N,K,J,I,H,G,p,n,m,l,k,j,i,g;C=TrumpetApp.admin_mgr_tmpl;y=function(Q,P){return make_alert("Succesful Transfer","success")};u=function(Q,P){return make_alert("Error in Transfer","error")};w=function(){return{sitepath:e,sitetmpl:D,sitecss:B,sitejs:h}};window.lviews=w;s=(function(Q){c(P,Q);function P(){E=P.__super__.constructor.apply(this,arguments);return E}P.prototype.routes={"":"home","view/:listview":"listview"};P.prototype.common=function(){side_view.render();if(side_view.current_view!==null){return side_view.current_view.remove()}};P.prototype.home=function(){return this.common()};P.prototype.listview=function(S){var R,T;this.common();R=w()[S];T=new R;T.render();return side_view.current_view=T};return P})(Backbone.Router);z=(function(Q){c(P,Q);function P(){q=P.__super__.constructor.apply(this,arguments);return q}P.prototype.defaults={name:""};return P})(Backbone.Model);o=(function(P){c(Q,P);function Q(){p=Q.__super__.constructor.apply(this,arguments);return p}Q.prototype.defaults={name:"",content:""};return Q})(Backbone.Model);t=(function(P){c(Q,P);function Q(){n=Q.__super__.constructor.apply(this,arguments);return n}Q.prototype.defaults={name:"",content:""};return Q})(Backbone.Model);d=(function(Q){c(P,Q);function P(){m=P.__super__.constructor.apply(this,arguments);return m}P.prototype.defaults={name:"",content:""};return P})(Backbone.Model);F=(function(Q){c(P,Q);function P(){l=P.__super__.constructor.apply(this,arguments);return l}P.prototype.model=z;P.prototype.url="/rest/sitepath";P.prototype.parse=function(R){return R.data};return P})(Backbone.Collection);r=(function(P){c(Q,P);function Q(){k=Q.__super__.constructor.apply(this,arguments);return k}Q.prototype.model=o;Q.prototype.url="/rest/sitetmpl";Q.prototype.parse=function(R){return R.data};return Q})(Backbone.Collection);L=(function(P){c(Q,P);function Q(){j=Q.__super__.constructor.apply(this,arguments);return j}Q.prototype.model=t;Q.prototype.url="/rest/sitecss";Q.prototype.parse=function(R){return R.data};return Q})(Backbone.Collection);f=(function(Q){c(P,Q);function P(){i=P.__super__.constructor.apply(this,arguments);return i}P.prototype.model=d;P.prototype.url="/rest/sitejs";P.prototype.parse=function(R){return R.data};return P})(Backbone.Collection);M=(function(P){c(Q,P);function Q(){g=Q.__super__.constructor.apply(this,arguments);return g}Q.prototype.tagName="div";return Q})(Backbone.View);v=(function(P){c(Q,P);function Q(){O=Q.__super__.constructor.apply(this,arguments);return O}Q.prototype.className="sitepath-entry";Q.prototype.initialize=function(){_.bindAll(this,"render");this.model.bind("change",this.render);return this.model.bind("remove",this.unrender)};Q.prototype.template=C.sitepath_entry_template;Q.prototype.render=function(){var S,R,T;R=this.model.get("name");T=C.sitepath_entry_template;S=T.render({name:R});this.$el.html(S);return this};Q.prototype.unrender=function(){return $(this.el).remove()};Q.prototype.events={"click el":function(){return $(this.el).hide()}};return Q})(M);x=(function(Q){c(P,Q);function P(){N=P.__super__.constructor.apply(this,arguments);return N}P.prototype.el=$(".right-column-content");P.prototype.render=function(R){this.$el.html(this.template.render(R));return this};P.prototype.events={"click .fetch-button":"fetch"};P.prototype.remove=function(){this.undelegateEvents();this.$el.empty();this.stopListening();return this};return P})(Backbone.View);e=(function(Q){c(P,Q);function P(){this.fetch=a(this.fetch,this);this.appendItem=a(this.appendItem,this);K=P.__super__.constructor.apply(this,arguments);return K}P.prototype.template=C.sitepath_view_template;P.prototype.initialize=function(){console.log("Init SitePathListView");this.collection=new F;this.collection.bind("add",this.appendItem);return this.collection.fetch()};P.prototype.addItem=function(){var R;R=new z;return this.collection.add(R)};P.prototype.appendItem=function(S){var T,R;R=new v({model:S});T=R.render(S).el;return $(".listview-list").append(T)};P.prototype.fetch=function(){return this.collection.fetch()};return P})(x);D=(function(Q){c(P,Q);function P(){J=P.__super__.constructor.apply(this,arguments);return J}P.prototype.template=C.sitetmpl_view_template;P.prototype.initialize=function(){return console.log("Init SiteTemplateListView")};return P})(x);B=(function(Q){c(P,Q);function P(){I=P.__super__.constructor.apply(this,arguments);return I}P.prototype.template=C.sitecss_view_template;P.prototype.initialize=function(){return console.log("Init SiteCSSListView")};return P})(x);h=(function(Q){c(P,Q);function P(){H=P.__super__.constructor.apply(this,arguments);return H}P.prototype.template=C.sitejs_view_template;P.prototype.initialize=function(){return console.log("Init SiteJSListView")};return P})(x);A=(function(Q){var R;c(P,Q);function P(){G=P.__super__.constructor.apply(this,arguments);return G}P.prototype.el=$(".sidebar");P.prototype.initialize=function(){console.log("Init SideView");return this.current_view=null};P.prototype.template=C.side_view_template;P.prototype.render=function(){$(this.el).html(this.template.render());return this};P.prototype.setup_sitepath_viewer=function(){return this.pathview.render()};P.prototype.setup_sitetmpl_viewer=function(){return this.tmplview.render()};P.prototype.setup_sitecss_viewer=function(){return this.cssview.render()};P.prototype.setup_sitejs_viewer=function(){return this.jsview.render()};R={trigger:true};P.prototype.events={"click .home-button":function(){return main_router.navigate("",R)},"click .sitepaths-button":function(){return main_router.navigate("view/sitepath",R)},"click .sitetmpl-button":function(){return main_router.navigate("view/sitetmpl",R)},"click .sitecss-button":function(){return main_router.navigate("view/sitecss",R)},"click .sitejs-button":function(){return main_router.navigate("view/sitejs",R)}};return P})(Backbone.View);window.main_router=new s;window.side_view=new A;return Backbone.history.start()})}).call(this);