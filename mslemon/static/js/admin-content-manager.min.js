(function(){var b={}.hasOwnProperty,c=function(g,e){for(var d in e){if(b.call(e,d)){g[d]=e[d]}}function f(){this.constructor=g}f.prototype=e.prototype;g.prototype=new f();g.__super__=e.prototype;return g},a=function(d,e){return function(){return d.apply(e,arguments)}};jQuery(function(){var x,L,s,A,t,K,B,d,f,h,z,E,e,v,o,r,C,u,y,w,D,q,N,M,J,I,H,G,F,p,n,m,l,k,j,i,g;y=function(P,O){return make_alert("Succesful Transfer","success")};u=function(P,O){return make_alert("Error in Transfer","error")};w=function(){return{sitepath:e,sitetmpl:C,sitecss:B,sitejs:h}};window.lviews=w;s=(function(P){c(O,P);function O(){D=O.__super__.constructor.apply(this,arguments);return D}O.prototype.routes={"":"home","view/:listview":"listview"};O.prototype.common=function(){var Q;side_view.render();if(side_view.current_view!==null){side_view.current_view.remove()}$(".right-listview").remove();Q='<div class="right-listview"></div>';return $(".right-column-content").html(Q)};O.prototype.home=function(){return this.common()};O.prototype.listview=function(R){var Q,S;this.common();Q=w()[R];S=new Q;S.render();return side_view.current_view=S};O.prototype.sitepath=function(){var Q;this.common();Q=new e;return Q.render()};O.prototype.sitetmpl=function(){var Q;this.common();Q=new C;return Q.render()};O.prototype.sitecss=function(){var Q;this.common();Q=new B;return Q.render()};O.prototype.sitejs=function(){var Q;this.common();Q=new h;return Q.render()};return O})(Backbone.Router);z=(function(P){c(O,P);function O(){q=O.__super__.constructor.apply(this,arguments);return q}O.prototype.defaults={name:""};return O})(Backbone.Model);o=(function(O){c(P,O);function P(){p=P.__super__.constructor.apply(this,arguments);return p}P.prototype.defaults={name:"",content:""};return P})(Backbone.Model);t=(function(O){c(P,O);function P(){n=P.__super__.constructor.apply(this,arguments);return n}P.prototype.defaults={name:"",content:""};return P})(Backbone.Model);d=(function(P){c(O,P);function O(){m=O.__super__.constructor.apply(this,arguments);return m}O.prototype.defaults={name:"",content:""};return O})(Backbone.Model);E=(function(P){c(O,P);function O(){l=O.__super__.constructor.apply(this,arguments);return l}O.prototype.model=z;O.prototype.url="/rest/sitepath";O.prototype.parse=function(Q){return Q.data};return O})(Backbone.Collection);r=(function(O){c(P,O);function P(){k=P.__super__.constructor.apply(this,arguments);return k}P.prototype.model=o;P.prototype.url="/rest/sitetmpl";P.prototype.parse=function(Q){return Q.data};return P})(Backbone.Collection);K=(function(O){c(P,O);function P(){j=P.__super__.constructor.apply(this,arguments);return j}P.prototype.model=t;P.prototype.url="/rest/sitecss";P.prototype.parse=function(Q){return Q.data};return P})(Backbone.Collection);f=(function(P){c(O,P);function O(){i=O.__super__.constructor.apply(this,arguments);return i}O.prototype.model=d;O.prototype.url="/rest/sitejs";O.prototype.parse=function(Q){return Q.data};return O})(Backbone.Collection);L=(function(O){c(P,O);function P(){g=P.__super__.constructor.apply(this,arguments);return g}P.prototype.tagName="div";return P})(Backbone.View);v=(function(O){c(P,O);function P(){N=P.__super__.constructor.apply(this,arguments);return N}P.prototype.className="sitepath-entry";P.prototype.initialize=function(){_.bindAll(this,"render");this.model.bind("change",this.render);return this.model.bind("remove",this.unrender)};P.prototype.template=admin_mgr_tmpl.sitepath_entry_template;P.prototype.render=function(){var Q,S,R;S=this.model.get("name");R=admin_mgr_tmpl.sitepath_entry_template;Q=R.render({path:S});this.$el.html(Q);return this};P.prototype.unrender=function(){return $(this.el).remove()};P.prototype.events={"click el":function(){return $(this.el).hide()}};return P})(L);x=(function(P){c(O,P);function O(){M=O.__super__.constructor.apply(this,arguments);return M}O.prototype.el=$(".right-listview");O.prototype.render=function(Q){this.$el.html(this.template.render(Q).el);$(".right-column-content").append(this.$el);return this};O.prototype.events={"click .fetch-button":"fetch"};return O})(Backbone.View);e=(function(P){c(O,P);function O(){this.fetch=a(this.fetch,this);this.appendItem=a(this.appendItem,this);J=O.__super__.constructor.apply(this,arguments);return J}O.prototype.el=$(".right-listview");O.prototype.template=admin_mgr_tmpl.sitepath_view_template;O.prototype.initialize=function(){console.log("Init SitePathListView");this.collection=new E;this.collection.bind("add",this.appendItem);return this.collection.fetch()};O.prototype.addItem=function(){var Q;Q=new z;return this.collection.add(Q)};O.prototype.appendItem=function(R){var S,Q;Q=new v({model:R});S=Q.render(R).el;return $(".listview-list").append(S)};O.prototype.fetch=function(){return this.collection.fetch()};return O})(x);C=(function(P){c(O,P);function O(){I=O.__super__.constructor.apply(this,arguments);return I}O.prototype.template=admin_mgr_tmpl.sitetmpl_view_template;O.prototype.initialize=function(){return console.log("Init SiteTemplateListView")};return O})(x);B=(function(P){c(O,P);function O(){H=O.__super__.constructor.apply(this,arguments);return H}O.prototype.template=admin_mgr_tmpl.sitecss_view_template;O.prototype.initialize=function(){return console.log("Init SiteCSSListView")};return O})(x);h=(function(P){c(O,P);function O(){G=O.__super__.constructor.apply(this,arguments);return G}O.prototype.template=admin_mgr_tmpl.sitejs_view_template;O.prototype.initialize=function(){return console.log("Init SiteJSListView")};return O})(x);A=(function(P){c(O,P);function O(){F=O.__super__.constructor.apply(this,arguments);return F}O.prototype.el=$(".sidebar");O.prototype.initialize=function(){console.log("Init SideView");return this.current_view=null};O.prototype.template=admin_mgr_tmpl.side_view_template;O.prototype.render=function(){$(this.el).html(this.template.render());return this};O.prototype.pathview=new e;O.prototype.tmplview=new C;O.prototype.cssview=new B;O.prototype.jsview=new h;O.prototype.setup_sitepath_viewer=function(){return this.pathview.render()};O.prototype.setup_sitetmpl_viewer=function(){return this.tmplview.render()};O.prototype.setup_sitecss_viewer=function(){return this.cssview.render()};O.prototype.setup_sitejs_viewer=function(){return this.jsview.render()};O.prototype.events={"click .sitepaths-button":function(){return main_router.navigate("view/sitepath",{trigger:true})},"click .sitetmpl-button":function(){return main_router.navigate("view/sitetmpl",{trigger:true})},"click .sitecss-button":"setup_sitecss_viewer","click .sitejs-button":"setup_sitejs_viewer"};return O})(Backbone.View);window.side_view=new A;window.main_router=new s;return Backbone.history.start()})}).call(this);