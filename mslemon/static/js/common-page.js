// Generated by CoffeeScript 1.6.3
(function() {
  var get_template, make_alert, make_alert_div, toggle_ace_keybinding, url_join;

  window.TrumpetApp = {
    functions: {},
    main_loop: null
  };

  url_join = function() {
    var fix_string, joined;
    fix_string = function(string) {
      string = string.replace(/[\/]+/g, '/');
      string = string.replace(/\:\//g, '://');
      string = string.replace(/\/\?/g, '?');
      string = string.replace(/\/\#/g, '#');
      return string;
    };
    joined = [].slice.call(arguments, 0).join('/');
    return fix_string(joined);
  };

  make_alert_div = function(message, priority) {
    var alert_div, div;
    alert_div = '<div id="main-alert" class="alert alert-#priority# alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>$__replaceme__</div>';
    div = alert_div.replace('$__replaceme__', message);
    div = div.replace('#priority#', priority);
    return div;
  };

  make_alert = function(message, priority) {
    var div;
    div = make_alert_div(message, priority);
    return $('.main-content').prepend(div);
  };

  get_template = function(name) {
    var params, prefix, url;
    prefix = '/blob/ejs/search';
    params = jQuery.param({
      name: name
    });
    url = prefix + '?' + params;
    return new EJS({
      url: url
    });
  };

  toggle_ace_keybinding = function(button, editor) {
    return button.click(function() {
      var keybinding;
      keybinding = button.text();
      if (keybinding === 'emacs') {
        button.text('ace');
        return editor.setKeyboardHandler('');
      } else {
        button.text('emacs');
        return editor.setKeyboardHandler('ace/keyboard/emacs');
      }
    });
  };

  TrumpetApp.make_alert_div = make_alert_div;

  TrumpetApp.make_alert = make_alert;

  TrumpetApp.get_template = get_template;

  TrumpetApp.functions.url_join = url_join;

  TrumpetApp.functions.toggle_ace_keybinding = toggle_ace_keybinding;

  $(document).ready(function() {
    return $('.status-bar').hide();
  });

}).call(this);
